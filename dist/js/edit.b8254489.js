(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["edit"],{a2c6:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"edit"},[e("div",{staticClass:"top"},[e("i",{staticClass:"iconfont",on:{click:t.goBack}},[t._v("")]),e("div",[e("div",[t._v("编辑资料")]),e("div",{staticClass:"complete"},[t._v("已完成"+t._s(t.num||0)+"%")])])]),e("div",{staticClass:"avatar"},[e("div",[e("div",{staticClass:"avatar-img"},[e("img",{attrs:{src:t.myInfo.avatar,alt:""}}),e("div",{staticClass:"icon"},[e("i",{staticClass:"iconfont"},[t._v("")]),e("input",{staticClass:"file",attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.updateFace}})])]),e("div",{staticClass:"update"},[t._v("点击更换头像")])])]),e("div",{staticClass:"edit-info"},[e("div",{staticClass:"edit-item",on:{click:function(n){return t.editInfo("name")}}},[e("span",{staticClass:"item-name"},[t._v("名字")]),e("span",{staticClass:"item-content"},[t._v(" "+t._s(t.myInfo.name)+" "),e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"edit-item",on:{click:function(n){return t.editInfo("id")}}},[e("span",{staticClass:"item-name"},[t._v("抖音号")]),e("span",{staticClass:"item-content"},[t._v(" "+t._s(t.myInfo.dyId)+" "),e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"edit-item",on:{click:function(n){return t.editInfo("introduce")}}},[e("span",{staticClass:"item-name"},[t._v("简介")]),e("span",{staticClass:"item-content"},[t._v(" "+t._s(t.myInfo.introduction)+" "),e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"edit-item",on:{click:function(n){t.isShowSex=!0}}},[e("span",{staticClass:"item-name"},[t._v("性别")]),e("span",{staticClass:"item-content"},[1==t.myInfo.sex?e("span",[t._v("男")]):2==t.myInfo.sex?e("span",[t._v("女")]):e("span",[t._v("不显示")]),e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"edit-item",on:{click:t.openPicker}},[e("span",{staticClass:"item-name"},[t._v("生日")]),t._m(0)]),e("div",{staticClass:"edit-item",on:{click:function(n){t.isShowCity=!0}}},[e("span",{staticClass:"item-name"},[t._v("地区")]),e("span",{staticClass:"item-content"},[t._v(" "+t._s(t.myInfo.city)+" "),e("i",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"edit-item",on:{click:function(n){return t.editInfo("school")}}},[t._m(1),t._m(2)])]),e("mt-popup",{staticClass:"mt-sex",attrs:{position:"center"},model:{value:t.isShowSex,callback:function(n){t.isShowSex=n},expression:"isShowSex"}},[e("div",{on:{click:function(n){return t.editSex("1")}}},[t._v("男")]),e("div",{on:{click:function(n){return t.editSex("2")}}},[t._v("女")]),e("div",{on:{click:function(n){return t.editSex("不显示")}}},[t._v("不显示")])]),e("mt-datetime-picker",{ref:"picker",attrs:{type:"date","year-format":"{value} 年","month-format":"{value} 月","date-format":"{value} 日",startDate:t.startDate,endDate:t.endDate},on:{confirm:t.editDate},model:{value:t.birthday,callback:function(n){t.birthday=n},expression:"birthday"}}),e("mt-popup",{staticClass:"mt-city",attrs:{position:"right"},model:{value:t.isShowCity,callback:function(n){t.isShowCity=n},expression:"isShowCity"}},[e("div",[e("div",{staticClass:"top"},[e("i",{staticClass:"iconfont",on:{click:function(n){t.isShowCity=!1}}},[t._v("")]),e("div",[t._v("地区选择")])]),e("div",{staticClass:"select-city"},[e("ul",[e("li",{on:{click:function(n){return t.editCity("")}}},[t._v("暂不设置")]),e("li",{staticClass:"china"},[t._v("中国")]),t._l(t.cityList,(function(n,i){return e("li",{key:i,on:{click:function(e){return t.editCity(n.name)}}},[t._v(t._s(n.name))])}))],2)])])])],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"item-content"},[t._v(" 点击设置 "),e("i",{staticClass:"iconfont"},[t._v("")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"item-name"},[t._v(" 学校 "),e("span",{staticClass:"item-content"},[t._v("(选填)")])])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"item-content"},[t._v(" 点击设置 "),e("i",{staticClass:"iconfont"},[t._v("")])])}],s=(e("b0c0"),e("76a0"));function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=new Date(t),i=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var s=e.getDate();s<10&&(s="0"+s);var c=e.getHours();c<10&&(c="0"+c);var o=e.getMinutes();o<10&&(o="0"+o);var m=e.getSeconds();return m<10&&(m="0"+m),0==n?i+"年"+a+"月"+s+"日":i+"-"+a+"-"+s}var o=[{name:"安徽省",code:"340000"},{name:"北京市",code:"110000"},{name:"福建省",code:"350000"},{name:"甘肃省",code:"620000"},{name:"广东省",code:"440000"},{name:"广西壮族自治区",code:"450000"},{name:"贵州省",code:"520000"},{name:"海南省",code:"460000"},{name:"河北省",code:"130000"},{name:"河南省",code:"410000"},{name:"黑龙江省",code:"230000"},{name:"湖北省",code:"420000"},{name:"湖南省",code:"430000"},{name:"吉林省",code:"220000"},{name:"江苏省",code:"320000"},{name:"江西省",code:"360000"},{name:"辽宁省",code:"210000"},{name:"内蒙古自治区",code:"150000"},{name:"宁夏回族自治区",code:"640000"},{name:"青海省",code:"630000"},{name:"山东省",code:"370000"},{name:"山西省",code:"140000"},{name:"陕西省",code:"610000"},{name:"上海市",code:"310000"},{name:"四川省",code:"510000"},{name:"天津市",code:"120000"},{name:"西藏自治区",code:"540000"},{name:"新疆维吾尔自治区",code:"650000"},{name:"云南省",code:"530000"},{name:"浙江省",code:"330000"},{name:"重庆市",code:"500000"}],m={components:{MessageBox:s["MessageBox"]},data:function(){return{myInfo:this.$route.query.myInfo,isShowSex:!1,isShowCity:!1,pickerValue:"",birthday:"",startDate:new Date(1898),endDate:new Date,cityList:o}},computed:{num:function(){var t=0,n=0;for(var e in this.myInfo)n++,""!=this.myInfo[e]&&t++;return parseInt(t/n*100)}},methods:{goBack:function(){this.$store.commit("init_myInfo",this.myInfo),this.$store.commit("init_num"),history.go(-1)},updateFace:function(t){var n=this,e=t.target.files[0],i=new FileReader;i.onload=function(t){n.myInfo.avatar=t.target.result},i.readAsDataURL(e)},editInfo:function(t){var n=this;"name"==t&&s["MessageBox"].prompt("不能超过20个字符","修改名字",{inputValue:this.myInfo.name}).then((function(t){var e=t.value,i=t.action;"confirm"==i&&(n.myInfo.name=e)})).catch((function(t){})),"id"==t&&s["MessageBox"].prompt("最多16个字符","修改抖音号",{inputValue:this.myInfo.dyId}).then((function(t){var e=t.value,i=t.action;"confirm"==i&&(n.myInfo.dyId=e)})).catch((function(t){})),"introduce"==t&&Object(s["MessageBox"])({title:"修改简介",message:'<div>\n            <textarea id="introduce" class="introduce">'.concat(this.myInfo.introduction,"</textarea>\n          </div>"),showCancelButton:!0}).then((function(t){"confirm"==t&&(n.myInfo.introduction=document.getElementById("introduce").value)})),"school"==t&&s["MessageBox"].prompt("(选填)","修改学校名字",{inputValue:this.myInfo.school}).then((function(t){var e=t.value,i=t.action;"confirm"==i&&(n.myInfo.school=e)})).catch((function(t){}))},editSex:function(t){this.myInfo.sex=t,this.isShowSex=!1},openPicker:function(){this.birthday=new Date,this.$refs.picker.open()},editDate:function(){this.myInfo.birthday=c(this.birthday)},editCity:function(t){this.myInfo.city=t,this.isShowCity=!1}}},r=m,d=(e("d6ef"),e("2877")),l=Object(d["a"])(r,i,a,!1,null,null,null);n["default"]=l.exports},a6dc:function(t,n,e){},b0c0:function(t,n,e){var i=e("83ab"),a=e("9bf2").f,s=Function.prototype,c=s.toString,o=/^\s*function ([^ (]*)/,m="name";i&&!(m in s)&&a(s,m,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(t){return""}}})},d6ef:function(t,n,e){"use strict";var i=e("a6dc"),a=e.n(i);a.a}}]);
//# sourceMappingURL=edit.b8254489.js.map